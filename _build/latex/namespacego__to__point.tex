\hypertarget{namespacego__to__point}{}\doxysection{go\+\_\+to\+\_\+point Namespace Reference}
\label{namespacego__to__point}\index{go\_to\_point@{go\_to\_point}}
\doxysubsection*{Functions}
\begin{DoxyCompactItemize}
\item 
def \mbox{\hyperlink{namespacego__to__point_a04ffbcfde094b7aa54f3327cf3be2755}{Vel\+\_\+srv}} (req)
\item 
def \mbox{\hyperlink{namespacego__to__point_a36304a9f313b0579f7fc69fa01695524}{clbk\+\_\+odom}} (msg)
\item 
def \mbox{\hyperlink{namespacego__to__point_a31ee48e5cae36821049b572a96b7c8be}{change\+\_\+state}} (state)
\item 
def \mbox{\hyperlink{namespacego__to__point_ac688bb56fa84763ea2edefc30cae032a}{normalize\+\_\+angle}} (angle)
\item 
def \mbox{\hyperlink{namespacego__to__point_a9c3011a3065fcbefcc1c5ad8c9979669}{fix\+\_\+yaw}} (des\+\_\+pos)
\item 
def \mbox{\hyperlink{namespacego__to__point_ac8579665c0fbf665f734476554fac37d}{go\+\_\+straight\+\_\+ahead}} (des\+\_\+pos)
\item 
\mbox{\Hypertarget{namespacego__to__point_a4a406386ca62830c19c93949e923f7bd}\label{namespacego__to__point_a4a406386ca62830c19c93949e923f7bd}} 
def {\bfseries fix\+\_\+final\+\_\+yaw} (des\+\_\+yaw)
\item 
def \mbox{\hyperlink{namespacego__to__point_ac2587220a4ac9c845bc9c5b0b45d5835}{done}} ()
\item 
def \mbox{\hyperlink{namespacego__to__point_a2203d17b7e563bee20ed4c988548df45}{go\+\_\+to\+\_\+point}} (goal)
\item 
\mbox{\Hypertarget{namespacego__to__point_ab92bd6db1ec323a4d795ed6cb40aebe1}\label{namespacego__to__point_ab92bd6db1ec323a4d795ed6cb40aebe1}} 
def {\bfseries main} ()
\end{DoxyCompactItemize}
\doxysubsection*{Variables}
\begin{DoxyCompactItemize}
\item 
\mbox{\Hypertarget{namespacego__to__point_a91dbaab25e6080f6b5dbf82cac6ce75c}\label{namespacego__to__point_a91dbaab25e6080f6b5dbf82cac6ce75c}} 
{\bfseries position\+\_\+} = Point()
\item 
\mbox{\Hypertarget{namespacego__to__point_ae444f19eb2019982432760ace036ce03}\label{namespacego__to__point_ae444f19eb2019982432760ace036ce03}} 
int {\bfseries yaw\+\_\+} = 0
\item 
\mbox{\Hypertarget{namespacego__to__point_aa2d0ef255bcf5d5faf9ca2764730fb17}\label{namespacego__to__point_aa2d0ef255bcf5d5faf9ca2764730fb17}} 
int {\bfseries state\+\_\+} = 0
\item 
\mbox{\Hypertarget{namespacego__to__point_a57b4090d0abcbcf0bfa2bcb9329d3036}\label{namespacego__to__point_a57b4090d0abcbcf0bfa2bcb9329d3036}} 
{\bfseries pub\+\_\+} = None
\item 
\mbox{\Hypertarget{namespacego__to__point_a64583fad586a7212c40613ec1c3e7c69}\label{namespacego__to__point_a64583fad586a7212c40613ec1c3e7c69}} 
{\bfseries act\+\_\+s} = None
\item 
\mbox{\Hypertarget{namespacego__to__point_a354fba5ca969f353a94d6131040611b9}\label{namespacego__to__point_a354fba5ca969f353a94d6131040611b9}} 
{\bfseries vel\+\_\+s} = None
\item 
\mbox{\Hypertarget{namespacego__to__point_a67f95834f0959feb3facd17bc7fa2b38}\label{namespacego__to__point_a67f95834f0959feb3facd17bc7fa2b38}} 
int {\bfseries yaw\+\_\+precision\+\_\+} = math.\+pi / 9
\item 
\mbox{\Hypertarget{namespacego__to__point_af74ccf49164d0478ca8343e2031d5813}\label{namespacego__to__point_af74ccf49164d0478ca8343e2031d5813}} 
int {\bfseries yaw\+\_\+precision\+\_\+2\+\_\+} = math.\+pi / 90
\item 
\mbox{\Hypertarget{namespacego__to__point_a6a1e4eb20ebd4fce0fc56b0ebfd7a8d5}\label{namespacego__to__point_a6a1e4eb20ebd4fce0fc56b0ebfd7a8d5}} 
float {\bfseries dist\+\_\+precision\+\_\+} = 0.\+1
\item 
\mbox{\Hypertarget{namespacego__to__point_a524106fc7667a0927951dfd89d52d6a7}\label{namespacego__to__point_a524106fc7667a0927951dfd89d52d6a7}} 
float {\bfseries kp\+\_\+a} = -\/3.\+0
\item 
\mbox{\Hypertarget{namespacego__to__point_a7bc498652ca66932e704e738b50c297b}\label{namespacego__to__point_a7bc498652ca66932e704e738b50c297b}} 
float {\bfseries kp\+\_\+d} = 0.\+2
\item 
\mbox{\Hypertarget{namespacego__to__point_acb4e14986fafe5cb73bb8ad0c178869d}\label{namespacego__to__point_acb4e14986fafe5cb73bb8ad0c178869d}} 
float {\bfseries ub\+\_\+a} = 0.\+6
\item 
\mbox{\Hypertarget{namespacego__to__point_afecad4058844db05d8321199e25b4498}\label{namespacego__to__point_afecad4058844db05d8321199e25b4498}} 
float {\bfseries lb\+\_\+a} = -\/0.\+5
\item 
\mbox{\Hypertarget{namespacego__to__point_a16c473b9e717200c483d18e66b48152a}\label{namespacego__to__point_a16c473b9e717200c483d18e66b48152a}} 
float {\bfseries ub\+\_\+d} = 0.\+6
\end{DoxyCompactItemize}


\doxysubsection{Detailed Description}
\begin{DoxyVerb}.. module:: go_to_point
    :platform: Unix
    :synopsis: Python module for piloting the robot to the target
.. module author:: Anderson Siqueira
    
    ROS node for driving a robot to a specific point
    
Subscribes to: 
    /odom (topic where the simulator publishes the robot position)
Publishes to: 
    /cmd_vel (the desired robot position)
Service : 
    /go_to_point (to start the robot motion)
    /vel (requested by our jupyter notebook)
\end{DoxyVerb}
 

\doxysubsection{Function Documentation}
\mbox{\Hypertarget{namespacego__to__point_a31ee48e5cae36821049b572a96b7c8be}\label{namespacego__to__point_a31ee48e5cae36821049b572a96b7c8be}} 
\index{go\_to\_point@{go\_to\_point}!change\_state@{change\_state}}
\index{change\_state@{change\_state}!go\_to\_point@{go\_to\_point}}
\doxysubsubsection{\texorpdfstring{change\_state()}{change\_state()}}
{\footnotesize\ttfamily def go\+\_\+to\+\_\+point.\+change\+\_\+state (\begin{DoxyParamCaption}\item[{}]{state }\end{DoxyParamCaption})}

\begin{DoxyVerb}Arguments: state (int)
          
Description:
Update the global state
\end{DoxyVerb}
 \mbox{\Hypertarget{namespacego__to__point_a36304a9f313b0579f7fc69fa01695524}\label{namespacego__to__point_a36304a9f313b0579f7fc69fa01695524}} 
\index{go\_to\_point@{go\_to\_point}!clbk\_odom@{clbk\_odom}}
\index{clbk\_odom@{clbk\_odom}!go\_to\_point@{go\_to\_point}}
\doxysubsubsection{\texorpdfstring{clbk\_odom()}{clbk\_odom()}}
{\footnotesize\ttfamily def go\+\_\+to\+\_\+point.\+clbk\+\_\+odom (\begin{DoxyParamCaption}\item[{}]{msg }\end{DoxyParamCaption})}

\begin{DoxyVerb}Odometry callback
Arguments: Odometry message (msg)
      
Description:
Receives from Odometry message the values of X, Y and theta
\end{DoxyVerb}
 ~\newline
 \mbox{\Hypertarget{namespacego__to__point_ac2587220a4ac9c845bc9c5b0b45d5835}\label{namespacego__to__point_ac2587220a4ac9c845bc9c5b0b45d5835}} 
\index{go\_to\_point@{go\_to\_point}!done@{done}}
\index{done@{done}!go\_to\_point@{go\_to\_point}}
\doxysubsubsection{\texorpdfstring{done()}{done()}}
{\footnotesize\ttfamily def go\+\_\+to\+\_\+point.\+done (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})}

\begin{DoxyVerb}Description:
Stop the robot setting both angular and linear velocity to 0
\end{DoxyVerb}
 ~\newline
 \mbox{\Hypertarget{namespacego__to__point_a9c3011a3065fcbefcc1c5ad8c9979669}\label{namespacego__to__point_a9c3011a3065fcbefcc1c5ad8c9979669}} 
\index{go\_to\_point@{go\_to\_point}!fix\_yaw@{fix\_yaw}}
\index{fix\_yaw@{fix\_yaw}!go\_to\_point@{go\_to\_point}}
\doxysubsubsection{\texorpdfstring{fix\_yaw()}{fix\_yaw()}}
{\footnotesize\ttfamily def go\+\_\+to\+\_\+point.\+fix\+\_\+yaw (\begin{DoxyParamCaption}\item[{}]{des\+\_\+pos }\end{DoxyParamCaption})}

\begin{DoxyVerb}Arguments: float (des_yaw)
int (next_state)
                 
Description:
Orient the robot in direction of goal position (x,y) or achieve it. 
It can also change to a new state depending of the actual orientation. 
\end{DoxyVerb}
 \mbox{\Hypertarget{namespacego__to__point_ac8579665c0fbf665f734476554fac37d}\label{namespacego__to__point_ac8579665c0fbf665f734476554fac37d}} 
\index{go\_to\_point@{go\_to\_point}!go\_straight\_ahead@{go\_straight\_ahead}}
\index{go\_straight\_ahead@{go\_straight\_ahead}!go\_to\_point@{go\_to\_point}}
\doxysubsubsection{\texorpdfstring{go\_straight\_ahead()}{go\_straight\_ahead()}}
{\footnotesize\ttfamily def go\+\_\+to\+\_\+point.\+go\+\_\+straight\+\_\+ahead (\begin{DoxyParamCaption}\item[{}]{des\+\_\+pos }\end{DoxyParamCaption})}

\begin{DoxyVerb}Arguments: point (des_pos)
desired position for x, y

Description:
Set both angular and linear speed depending on the distance between the robot the goal
\end{DoxyVerb}
 \mbox{\Hypertarget{namespacego__to__point_a2203d17b7e563bee20ed4c988548df45}\label{namespacego__to__point_a2203d17b7e563bee20ed4c988548df45}} 
\index{go\_to\_point@{go\_to\_point}!go\_to\_point@{go\_to\_point}}
\index{go\_to\_point@{go\_to\_point}!go\_to\_point@{go\_to\_point}}
\doxysubsubsection{\texorpdfstring{go\_to\_point()}{go\_to\_point()}}
{\footnotesize\ttfamily def go\+\_\+to\+\_\+point.\+go\+\_\+to\+\_\+point (\begin{DoxyParamCaption}\item[{}]{goal }\end{DoxyParamCaption})}

\begin{DoxyVerb}Arguments: goal position (goal) for x, y and theta

Description:
Set an action deppending on the robot actual state. 
Direct communication with the state machine code, it will run in a loop until the user cancel/preempt the action
\end{DoxyVerb}
 ~\newline
 \mbox{\Hypertarget{namespacego__to__point_ac688bb56fa84763ea2edefc30cae032a}\label{namespacego__to__point_ac688bb56fa84763ea2edefc30cae032a}} 
\index{go\_to\_point@{go\_to\_point}!normalize\_angle@{normalize\_angle}}
\index{normalize\_angle@{normalize\_angle}!go\_to\_point@{go\_to\_point}}
\doxysubsubsection{\texorpdfstring{normalize\_angle()}{normalize\_angle()}}
{\footnotesize\ttfamily def go\+\_\+to\+\_\+point.\+normalize\+\_\+angle (\begin{DoxyParamCaption}\item[{}]{angle }\end{DoxyParamCaption})}

\begin{DoxyVerb}Arguments: float (angle) -> input
float (angle) -> return
                 
Description:
Normalize the angle between pi and -pi
\end{DoxyVerb}
 \mbox{\Hypertarget{namespacego__to__point_a04ffbcfde094b7aa54f3327cf3be2755}\label{namespacego__to__point_a04ffbcfde094b7aa54f3327cf3be2755}} 
\index{go\_to\_point@{go\_to\_point}!Vel\_srv@{Vel\_srv}}
\index{Vel\_srv@{Vel\_srv}!go\_to\_point@{go\_to\_point}}
\doxysubsubsection{\texorpdfstring{Vel\_srv()}{Vel\_srv()}}
{\footnotesize\ttfamily def go\+\_\+to\+\_\+point.\+Vel\+\_\+srv (\begin{DoxyParamCaption}\item[{}]{req }\end{DoxyParamCaption})}

\begin{DoxyVerb}Arguments: Velocity message (req)

/vel server
      
Description:
Receives from Velocity.srv the maximun values for angular and linear velocities
\end{DoxyVerb}
 