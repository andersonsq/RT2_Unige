<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.17"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>rt2_assignment1: First Assignment of the Research Track 2 course (Robotics Engineering / JEMARO, Unige)</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">rt2_assignment1
   &#160;<span id="projectnumber">1.0</span>
   </div>
   <div id="projectbrief">My project</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.17 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

</div><!-- top -->
<div class="PageDoc"><div class="header">
  <div class="headertitle">
<div class="title">First Assignment of the Research Track 2 course (Robotics Engineering / JEMARO, Unige) </div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><p>The package contains the nodes and the simulation environment for controlling a mobile robot in the Gazebo simulation environment.</p>
<h1><a class="anchor" id="autotoc_md1"></a>
Table of contents</h1>
<ul>
<li><a href="#requirements">Requirements</a></li>
<li><a href="#general-info">General info</a></li>
<li><a href="#description-of-the-system">Description of the system</a></li>
<li><a href="#codes-and-nodes">Codes and nodes</a></li>
<li><a href="#coppelia-scene">Coppelia scene</a></li>
<li><a href="#running-the-code">Running the code</a></li>
<li><a href="#futher-information">Futher information</a></li>
</ul>
<h1><a class="anchor" id="autotoc_md2"></a>
Requirements</h1>
<p>To properly oberserve and run correctly the behaviour of the mobile robot in your machine, it's necessary to have in your linux system:</p><ul>
<li>Ubuntu 20.04</li>
<li>ROS Noetic</li>
<li>ROS2 Foxy</li>
<li>Python3</li>
<li>Gazebo</li>
</ul>
<h1><a class="anchor" id="autotoc_md3"></a>
General info</h1>
<p>This package is responsible to control a mobile robot when receives a <code><a class="el" href="namespacego__to__point.html">go_to_point</a></code> command from the user.</p>
<h1><a class="anchor" id="autotoc_md4"></a>
Description of the system</h1>
<p>The launch file will open and start:</p><ol type="1">
<li>The simulation environment</li>
<li>The node <code>random_position_server</code>, which implements a random position service</li>
<li>The node <code><a class="el" href="namespacego__to__point.html">go_to_point</a></code>, which implements a service to drive a robot toward a point in the environment</li>
<li>The node <code>state_machine</code>, which implements a service to start or stop the robot, and calls the other two services to drive the robot</li>
<li>The node <code><a class="el" href="namespaceuser__interface.html">user_interface</a></code>, which asks the user to start/stop the robot, and calls the service implemented in the state_machine node</li>
<li>The service implemented in the <code><a class="el" href="namespacego__to__point.html">go_to_point</a></code> node is able to drive the robot towards a certain position in space (x, y) and with a certain angle (theta)</li>
<li>The service implemented in the <code>random_position_server</code> node replies with random values for x, y, and theta, where x and y should be limited between some min and max values</li>
<li>The service implemented in the robot <code>state_machine</code> node gives the possibility to start or stop the robot behaviour.</li>
</ol>
<p>Because our user request is implemented as an action, it can be preempted, this way we can stop the robot at any time during the simulation and then restart it with a new goal.</p>
<h1><a class="anchor" id="autotoc_md5"></a>
Codes e nodes</h1>
<p>In this package, at the scripts folder, it's possible to find 2 '.py' extension files, each one with it's own node:</p>
<ul>
<li><b>go_to_point.py:</b> A action server that controls the robot speed depending on random generated goal;</li>
<li><b>user_interface.py:</b> A command that sends the request to <em>start</em> or <em>stop</em> the <em><a class="el" href="namespacego__to__point.html">go_to_point</a> node</em></li>
</ul>
<p>In this package, at the src folder, it's possible to find 2 '.cpp' extension files, each one with it's own node:</p>
<ul>
<li><b><a class="el" href="position__service_8cpp.html" title="Node random_position_server, which implements a random position service.">position_service.cpp</a>:</b> It generates a random position for x, y and theta when requested.</li>
<li><b><a class="el" href="state__machine_8cpp.html" title="Implements a service to start or stop the robot, and calls the other two services to drive the robot.">state_machine.cpp</a>:</b> Send a <em>new</em> goal/objective to the <em><a class="el" href="namespacego__to__point.html">go_to_point</a></em> actoin server</li>
</ul>
<h1><a class="anchor" id="autotoc_md6"></a>
Coppelia scene</h1>
<ul>
<li>RobotnikScene.ttt: A Coppelia scene containing a robot interacting with the simulation. The mobile robot used in this assignment was the Robotnik Summit XL140701 without obstacles in the environment.</li>
</ul>
<h1><a class="anchor" id="autotoc_md7"></a>
Running the code</h1>
<p>To compile, first it is necessary to source your ROS version. </p><div class="fragment"><div class="line">source ros.sh</div>
</div><!-- fragment --><h2><a class="anchor" id="autotoc_md8"></a>
Launching the UDF mobile robot</h2>
<ul>
<li><b>sim.launch:</b> Contain all the nodes necessary to launch the simulation, the Gazebo environment will start automaticaly <div class="fragment"><div class="line">roslaunch rt2_assignment1 sim.launch</div>
</div><!-- fragment --></li>
</ul>
<h2><a class="anchor" id="autotoc_md9"></a>
Launching the Coppelia mobile robot</h2>
<p>Don't forget to start the CoppeliaSim in parallel with your ros.sh correctly sourced and the 'play' button pressed.</p>
<ul>
<li><b>Robotnik_coppelia_scene.launch:</b> Contain all the nodes necessary to launch the simulation, the Gazebo environment will start automaticaly <div class="fragment"><div class="line">roslaunch rt2_assignment1 Robotnik_coppelia_scene.launch</div>
</div><!-- fragment --></li>
</ul>
<h1><a class="anchor" id="autotoc_md10"></a>
Futher information</h1>
<p><b>TO BE ADDED AFTER FINISH THE DOCUMENTATION</b> </p>
</div></div><!-- contents -->
</div><!-- PageDoc -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.17
</small></address>
</body>
</html>
